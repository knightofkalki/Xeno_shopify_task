(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{63:(e,r,o)=>{"use strict";var t=o(7260);o.o(t,"useRouter")&&o.d(r,{useRouter:function(){return t.useRouter}})},8092:(e,r,o)=>{Promise.resolve().then(o.bind(o,8738))},8738:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>s});var t=o(5155),n=o(2115),i=o(63);function s(){let[e,r]=(0,n.useState)({ownerEmail:"",ownerPassword:"",confirmPassword:"",ownerFirstName:"",ownerLastName:"",storeName:"",shopDomain:"",accessToken:""}),[o,s]=(0,n.useState)(!1),[d,a]=(0,n.useState)(""),[l,m]=(0,n.useState)(1),c=(0,i.useRouter)(),h=o=>{r({...e,[o.target.name]:o.target.value})},p=async r=>{if(r.preventDefault(),s(!0),a(""),e.ownerPassword!==e.confirmPassword){a("Passwords do not match"),s(!1);return}if(e.ownerPassword.length<6){a("Password must be at least 6 characters"),s(!1);return}try{let r=await fetch("http://localhost:3001/api/auth/register-tenant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await r.json();o.success?(localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),localStorage.setItem("tenant",JSON.stringify(o.tenant)),c.push("/")):a(o.message||"Registration failed")}catch(e){a("Registration failed. Please try again.")}finally{s(!1)}};return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"#f8fafc",padding:"2rem"},children:[(0,t.jsxs)("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[(0,t.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#1f2937",marginBottom:"0.5rem"},children:"\uD83D\uDED2 Join Xeno Analytics"}),(0,t.jsx)("p",{style:{color:"#6b7280",fontSize:"1.125rem"},children:"Connect your Shopify store and start analyzing your data"})]}),(0,t.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[1===l&&(0,t.jsxs)("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},children:[(0,t.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem",color:"#1f2937"},children:"\uD83D\uDCCB Setup Instructions"}),(0,t.jsxs)("div",{style:{marginBottom:"2rem",lineHeight:1.6,color:"#4b5563"},children:[(0,t.jsx)("p",{style:{marginBottom:"1rem"},children:"Before registering, create a Shopify private app:"}),(0,t.jsxs)("ol",{style:{paddingLeft:"1.5rem",marginBottom:"1rem"},children:[(0,t.jsxs)("li",{style:{marginBottom:"0.5rem"},children:["Go to ",(0,t.jsx)("strong",{children:"Shopify Admin → Apps → App and sales channel settings"})]}),(0,t.jsxs)("li",{style:{marginBottom:"0.5rem"},children:["Click ",(0,t.jsx)("strong",{children:'"Develop apps"'})," → ",(0,t.jsx)("strong",{children:'"Create an app"'})]}),(0,t.jsxs)("li",{style:{marginBottom:"0.5rem"},children:['Name it "Xeno Analytics" and configure these ',(0,t.jsx)("strong",{children:"Admin API scopes"}),":"]})]}),(0,t.jsxs)("div",{style:{background:"#f3f4f6",padding:"1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem",marginBottom:"1rem"},children:["✅ read_customers",(0,t.jsx)("br",{}),"✅ read_products",(0,t.jsx)("br",{}),"✅ read_orders",(0,t.jsx)("br",{}),"✅ read_analytics"]}),(0,t.jsxs)("ol",{start:"4",style:{paddingLeft:"1.5rem"},children:[(0,t.jsxs)("li",{style:{marginBottom:"0.5rem"},children:["Install the app and copy the ",(0,t.jsx)("strong",{children:"Admin API access token"})]}),(0,t.jsx)("li",{children:"Use the token and your store domain below"})]})]}),(0,t.jsx)("button",{onClick:()=>m(2),style:{width:"100%",background:"#3b82f6",color:"white",padding:"0.75rem",borderRadius:"0.5rem",border:"none",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"\uD83D\uDCDD I'm Ready to Register"})]}),2===l&&(0,t.jsxs)("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},children:[(0,t.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"#1f2937"},children:"\uD83D\uDE80 Register Your Store"}),(0,t.jsxs)("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"First Name"}),(0,t.jsx)("input",{type:"text",name:"ownerFirstName",value:e.ownerFirstName,onChange:h,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",boxSizing:"border-box"},placeholder:"John"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Last Name"}),(0,t.jsx)("input",{type:"text",name:"ownerLastName",value:e.ownerLastName,onChange:h,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",boxSizing:"border-box"},placeholder:"Doe"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Email Address"}),(0,t.jsx)("input",{type:"email",name:"ownerEmail",required:!0,value:e.ownerEmail,onChange:h,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",boxSizing:"border-box"},placeholder:"john@mystore.com"})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Password"}),(0,t.jsx)("input",{type:"password",name:"ownerPassword",required:!0,value:e.ownerPassword,onChange:h,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",boxSizing:"border-box"},placeholder:"••••••••"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Confirm Password"}),(0,t.jsx)("input",{type:"password",name:"confirmPassword",required:!0,value:e.confirmPassword,onChange:h,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",boxSizing:"border-box"},placeholder:"••••••••"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Store Name"}),(0,t.jsx)("input",{type:"text",name:"storeName",required:!0,value:e.storeName,onChange:h,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",boxSizing:"border-box"},placeholder:"My Awesome Store"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Shopify Store Domain"}),(0,t.jsx)("input",{type:"text",name:"shopDomain",required:!0,value:e.shopDomain,onChange:h,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",boxSizing:"border-box"},placeholder:"mystore.myshopify.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Admin API Access Token"}),(0,t.jsx)("input",{type:"password",name:"accessToken",required:!0,value:e.accessToken,onChange:h,style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"1rem",outline:"none",boxSizing:"border-box"},placeholder:"shpat_..."})]}),d&&(0,t.jsxs)("div",{style:{background:"#fef2f2",border:"1px solid #fca5a5",color:"#dc2626",padding:"0.75rem",borderRadius:"0.5rem",fontSize:"0.875rem"},children:["❌ ",d]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,t.jsx)("button",{type:"button",onClick:()=>m(1),style:{flex:"1",background:"#f3f4f6",color:"#374151",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"← Back"}),(0,t.jsx)("button",{type:"submit",disabled:o,style:{flex:"2",background:o?"#9ca3af":"#10b981",color:"white",padding:"0.75rem",borderRadius:"0.5rem",border:"none",fontSize:"1rem",fontWeight:"600",cursor:o?"not-allowed":"pointer"},children:o?"\uD83D\uDD04 Registering...":"\uD83D\uDE80 Register Store"})]})]}),(0,t.jsx)("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:(0,t.jsxs)("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:["Already have an account?"," ",(0,t.jsx)("button",{onClick:()=>c.push("/login"),style:{background:"none",border:"none",color:"#3b82f6",textDecoration:"underline",cursor:"pointer",fontSize:"0.875rem"},children:"Sign in here"})]})})]})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=8092)),_N_E=e.O()}]);