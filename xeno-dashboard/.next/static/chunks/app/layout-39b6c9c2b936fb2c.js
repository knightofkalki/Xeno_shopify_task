(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4081:(e,t,n)=>{Promise.resolve().then(n.bind(n,9858))},9858:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,AuthProvider:()=>o});var a=n(5155),r=n(2115);let l=(0,r.createContext)();function o(e){let{children:t}=e,[n,o]=(0,r.useState)(null),[s,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("xeno_user");e&&o(JSON.parse(e)),u(!1)},[]);let i=async e=>{let t={email:e.email,tenantId:e.tenantId,tenantName:e.tenantName,tenantDomain:e.tenantDomain,loginTime:new Date().toISOString()};return o(t),localStorage.setItem("xeno_user",JSON.stringify(t)),{success:!0}};return(0,a.jsx)(l.Provider,{value:{user:n,loading:s,login:i,logout:()=>{o(null),localStorage.removeItem("xeno_user")},isAuthenticated:()=>!!n,getAuthHeaders:()=>({"Content-Type":"application/json","X-User-Email":(null==n?void 0:n.email)||"","X-Tenant-ID":(null==n?void 0:n.tenantId)||"1"})},children:t})}let s=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[441,255,358],()=>e(e.s=4081)),_N_E=e.O()}]);